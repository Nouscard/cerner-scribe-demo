<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="/epic.css" />
  </head>
  <body>
    <!-- epic top nav bar -->

    <div class="top-nav">
      <div class="top-nav-top">
        <div>
          <img src="/media/epic.png" alt="Epic" style="height: 20px; width: 40px;" />
        </div>
        <div>
          <i class="fa-solid fa-clipboard-question"></i>
          <span>Help Desk</span>
        </div>
        <div>
          <i class="fa-solid fa-calendar-day" style="color: #dbdbdb;"></i>
          <span>Schedule Explorer</span>
        </div>
        <div>
          <i class="fa-solid fa-binoculars"></i>
          <span>Record Viewer</span>
        </div>
        <div>
          <i class="fa-solid fa-house" style="color: #dbdbdb;"></i>
          <span>Home</span>
        </div>
        <div>
          <i class="fa-solid fa-clock-rotate-left"></i>
          <span>Schedule</span>
        </div>
        <div>
          <i class="fa-solid fa-envelope"  style="color: #a8a73d;"></i>
          <span>In Basket</span>
        </div>
        <div>
          <i class="fa-solid fa-folder-open" style="color: #3a65ab;"></i>
          <span>Chart</span>
        </div>
        <div>
          <i class="fa-solid fa-stethoscope" style="color: #3a65ab;"></i>
          <span>Encounter</span>
        </div>
        <div>
          <i class="fa-solid fa-phone" style="color: #a8a73d;"></i>
          <span>Telephone Call</span>
        </div>
        <div>
          <i class="fa-solid fa-phone" style="color: #a8a73d;"></i>
          <span>Triage Call</span>
        </div>
        <div>
          <i class="fa-solid fa-folder-open" style="color: #3a65ab;"></i>
          <span>Hospital Chart</span>
        </div>
        <div>
          <i class="fa-solid fa-bars" style="color: #3e6f71;"></i>
          <span>Patient Lists</span>
        </div>
        <div>
          <i class="fa-solid fa-lock" style="color: #3e6f71;"></i>
          <span>Secure</span>
        </div>
        <div>
          <i class="fa-solid fa-network-wired" style="color: #3e6f71;"></i>
          <span>Appts</span>
        </div>
        <div>
          <i class="fa-solid fa-people-group" style="color: #3e6f71;"></i>
          <span>Find Patients</span>
        </div>
        <div>
          <i class="fa-solid fa-binoculars" style="color: #3e6f71;"></i>
          <span>Sheduling</span>
        </div>
        <div>
          <i class="fa-solid fa-calendar-day" style="color: #3e6f71;"></i>
          <span>Schedule Admin</span>
        </div>
        <div>
          <i class="fa-solid fa-people-group" style="color: #3e6f71;"></i>
          <span>Find Patients</span>
        </div>
        <div>
          <i class="fa-solid fa-binoculars" style="color: #3e6f71;"></i>
          <span>Sheduling</span>
        </div>
        <div>
          <i class="fa-solid fa-calendar-day" style="color: #3e6f71;"></i>
          <span>Schedule Admin</span>
        </div>
        <div>
          <span>Logout</span>
        </div>
      </div>
      <div class="top-nav-bottom">
        <div class="top-nav-bottom-item">
          <span>üñ•Ô∏è</span>
        </div>
        <div class="top-nav-bottom-item">
          <span>üìä</span>
        </div>
        <div class="top-nav-bottom-item">
          <span>üì†</span>
        </div>
        <div class="top-nav-bottom-item">
          <span>üíæ</span>
        </div>
        <div class="top-nav-bottom-item">
          <span>üóÇÔ∏è</span>
        </div>
        <div class="top-nav-bottom-item">
          <span>ü©∫</span>
        </div>
        <div class="top-nav-bottom-item">
          <span>üíâ</span>
        </div>
        <div class="top-nav-bottom-item">
          <span>‚òëÔ∏è</span>
        </div>
        <div class="top-nav-bottom-item">
          <span>üóìÔ∏è</span>
        </div>
        <div class="top-nav-bottom-item">
          <span>üìÅ</span>
        </div>
        <div class="top-nav-bottom-item">
          <span>üß≠</span>
        </div>
        <div class="top-nav-bottom-item">
          <span>üì†</span>
        </div>
        <div class="top-nav-bottom-item">
          <span>üë®üèª‚Äç‚öïÔ∏è My chart, Patrick "K. Patrick"</span>
        </div>
        <div class="top-nav-bottom-item selected">
          <span>üë®üèª‚Äç‚öïÔ∏è My chart, Patrick "K. Patrick" x</span>
        </div>
      </div>
    </div>

    <div class="main-content">
      <div class="main-content-left">
        <div class="patient-card">
          <!-- Patient info -->
          <div class="patient-info">
            <div class="profile-picture">
              <div class="profile-icon">üë§</div>
            </div>
            <h2 class="patient-name">King Mychart</h2>
            <p class="patient-nickname">Patrick K</p>
            <p class="patient-details">Male, 42 years. 7/26/1979</p>
            <p class="patient-mrn">MRN: 202499</p>
            <p class="patient-acct">Acct ID: 82</p>
            <p class="patient-fin-class">Fin Class: Commercial</p>
            <p class="patient-status">BILLED</p>
          </div>

          <hr class="divider" />

          <!-- Outpatient section -->
          <div class="section">
            <div class="section-header">
              <h3 class="section-title" id="outpatient">OUTPATIENT</h3>
            </div>
            <div class="section-content">
              <p class="outpatient-date">11/8/2013 ‚Üí</p>
              <p class="outpatient-clinic">SBO CLINIC</p>
            </div>
          </div>

          <hr class="divider" />

          <!-- Balances section -->
          <div class="section">
            <h3 class="section-title" id="balances">BALANCES</h3>
            <div class="balances-content">
              <div class="total-balance">
                <p class="balance-label">Total</p>
                <p class="balance-amount">420.50</p>
              </div>
              <div class="balance-breakdown">
                <p class="breakdown-item">Pre: 0.00</p>
                <p class="breakdown-item">Ins: 158.00</p>
                <p class="breakdown-item">SP: 262.50</p>
              </div>
            </div>
          </div>

          <hr class="divider" />

          <!-- Coverages section -->
          <div class="section">
            <h3 class="section-title" id="coverages">COVERAGES</h3>
            <div class="section-content">
              <p class="coverage-item">1 AETNA - AETNA</p>
            </div>
          </div>

          <hr class="divider" />

          <!-- Guarantor section -->
          <div class="section">
            <h3 class="section-title" id="guarantor">GUARANTOR</h3>
            <div class="section-content">
              <p class="guarantor-name">King Mychart "Patrick K" [1057]</p>
              <p class="guarantor-type">Personal/Family - Self</p>
            </div>
          </div>
        </div>
      </div>
      <div class="main-content-right">
        <div class="content-menu">
          <div class="content-menu-item">
            <span>Acct Summary</span>
          </div>
          <div class="content-menu-item">
            <span>Guar Summary</span>
          </div>
          <div class="content-menu-item">
            <span>Report Viewer</span>
          </div>
          <div class="content-menu-item">
            <span>Doc Review</span>
          </div>
          <div class="content-menu-item">
            <span>Prof Tx Inquiry</span>
          </div>
          <div class="content-menu-item">
            <span>Liability Buckets</span>
          </div>
          <div class="content-menu-item">
            <span>Coverages</span>
          </div>
          <div class="content-menu-item">
            <span>CDI Review</span>
          </div>
          <div class="content-menu-item">
            <span>Coding</span>
          </div>
          <div class="content-menu-item">
            <span>Abstracting</span>
          </div>
          <div class="content-menu-item">
            <span>Code Integration</span>
          </div>
          <div class="content-menu-item">
            <span>History</span>
          </div>
          <div class="content-menu-item">
            <span>System Actions</span>
          </div>
          <div class="content-menu-item">
            <span>Correspondence ...</span>
          </div>
          <a href="/epic-medway.html">
            <div class="content-menu-item">
              <span>Medway</span>
            </div>
          </a>
          <a href="/epic.html">
            <div class="content-menu-item">
              <span>Medscribe</span>
            </div>
          </a>
          <div class="content-menu-item selected">
            <span>Medchat</span>
          </div>
          <div class="content-menu-item">
            <span>Telepo...</span>
          </div>
        </div>

        <div class="main-display" id="main-display">
          <h2>MedChat</h2>
          <span>Loading...</span>
        </div>
      </div>
    </div>
  </body>

  <script
    src="https://kit.fontawesome.com/701ca11bc9.js"
    crossorigin="anonymous"
  ></script>
  <script
    type="module"
    src="https://microfrontend.blob.core.windows.net/session-microfront/chat-module.js"
  ></script>
  <script>
    let medway_user_id = "44ddec32-a189-492e-83e6-230866b0cfa0";

    fetch(`/patient/123456Epic/data`)
      .then((response) => response.json())
      .then((data) => {
        console.log(data);
        const sessionContainer = document.getElementById("main-display");
        sessionContainer.innerHTML = `
            <chat-module access-token="${data.user_token}" patient-id="${medway_user_id}" thread-id="58"></chat-module>
        `;
      })
      .catch((error) => {
        console.error("Error fetching patient data:", error);
      });
  </script>
</html>
